<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="/layui/css/layui.css">
</head>
<body>
	<form class="layui-form" name="alipayment" action="" target="_blank">
		  <div class="layui-form-item">
		    <label class="layui-form-label">商户订单号 </label>
		    <div class="layui-input-block">
		      <input type="text" name="out_trade_no" placeholder="请输入标题" autocomplete="off" class="layui-input">
		    </div>
		  </div>
		  <div class="layui-form-item">
		    <label class="layui-form-label">订单名称</label>
		    <div class="layui-input-block">
		      <input type="text" name="subject" placeholder="请输入标题" autocomplete="off" class="layui-input">
		    </div>
		  </div>
		  <div class="layui-form-item">
		    <label class="layui-form-label">付款金额</label>
		    <div class="layui-input-block">
		      <input type="text" name="total_amount" placeholder="请输入标题" autocomplete="off" class="layui-input">
		    </div>
		  </div>
		  <div class="layui-form-item">
		    <label class="layui-form-label">商品描述</label>
		    <div class="layui-input-block">
		      <input type="text" name="body" placeholder="请输入标题" autocomplete="off" class="layui-input">
		    </div>
		  </div>
		  <div class="layui-form-item">
		    <div class="layui-input-block">
		      <button class="layui-btn" lay-submit lay-filter="*">付款</button>
		    </div>
		  </div>
	</form>
</body>
<script type="text/javascript" src="/layui/layui.js"></script>
<script type="text/javascript">
layui.use('form', function(){
	  var _form = layui.form;
	  var $ = layui.$;
	  _form.on('submit(*)', function(data){
		  console.log(data.elem) //被执行事件的元素DOM对象，一般为button对象
		  console.log(data.form) //被执行提交的form对象，一般在存在form标签时才会返回
		  console.log(data.field) //当前容器的全部表单字段，名值对形式：{name: value}
		  $.post("/buy/paySum",data.field,function(res){
			  var obj = window.open("about:blank");   
              obj.document.write(res);   
		  })
		  return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
		});
	});
</script>
</html>